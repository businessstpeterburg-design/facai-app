<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FA CAI SUPREME</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #ffd700; --dark-gold: #b8860b; --black: #050505; }
        
        body {
            background: var(--black); color: #fff; font-family: 'Orbitron', sans-serif;
            margin: 0; padding: 0; overflow: hidden; height: 100vh;
            background: radial-gradient(circle at 50% 30%, #1a1508 0%, #050505 100%);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        /* –ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π —à—É–º */
        body::before {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://grainy-gradients.vercel.app/noise.svg');
            opacity: 0.05; pointer-events: none; z-index: 100;
        }

        .container { position: relative; z-index: 10; display: flex; flex-direction: column; align-items: center; width: 100%; }

        .gold-title { font-size: 24px; font-weight: 900; color: var(--gold); text-shadow: 0 0 15px rgba(255, 215, 0, 0.5); margin: 0; }

        /* –ö–æ–ª–µ—Å–æ */
        .wheel-wrap {
            width: 210px; height: 210px; margin: 25px 0; border: 3px solid var(--gold);
            border-radius: 50%; position: relative; transition: 4s cubic-bezier(0.15, 0, 0.15, 1);
            background: conic-gradient(from 0deg, #111, #222, #111);
            display: flex; align-items: center; justify-content: center; box-shadow: 0 0 40px rgba(212, 175, 55, 0.2);
        }

        .spin-btn {
            background: linear-gradient(135deg, var(--gold), var(--dark-gold));
            color: #000; border: none; padding: 16px 50px; border-radius: 12px;
            font-weight: 900; font-family: 'Orbitron'; cursor: pointer; font-size: 16px;
            box-shadow: 0 10px 25px rgba(212,175,55,0.3);
        }

        /* –°–µ—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ */
        .grid { display: flex; gap: 15px; margin-top: 35px; }
        .card {
            width: 90px; height: 110px; border: 1px solid rgba(212,175,55,0.3);
            border-radius: 15px; background: rgba(255, 255, 255, 0.03);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            backdrop-filter: blur(10px); cursor: pointer; position: relative; overflow: hidden;
        }

        .card img { width: 75px; height: 75px; object-fit: contain; filter: drop-shadow(0 0 5px rgba(255,215,0,0.3)); }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –≥–æ—Ä–µ–Ω–∏—è –±–ª–∞–≥–æ–≤–æ–Ω–∏–π */
        .burning { border-color: var(--gold) !important; box-shadow: 0 0 25px var(--gold) !important; transform: scale(1.05); }

        .locked-overlay { position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; font-size:24px; }
    </style>
</head>
<body>

    <audio id="zenAudio" loop><source src="zen.mp3" type="audio/mpeg"></audio>

    <div class="container" id="ui">
        <h1 class="gold-title">FA CAI SUPREME</h1>
        
        <div style="border: 1px solid var(--gold); padding: 6px 25px; border-radius: 50px; margin: 15px 0; background: rgba(212,175,55,0.1);">
            <span id="bal" style="font-size: 22px; font-weight: 900;">1.94</span> <span style="font-size: 10px; color: var(--gold);">QK</span>
        </div>

        <div class="wheel-wrap" id="wheel">
            <div style="font-size: 45px; color: var(--gold); filter: drop-shadow(0 0 10px var(--gold));">Ë≤°</div>
        </div>

        <button class="spin-btn" id="spinBtn">SPIN FORTUNE</button>

        <div class="grid">
            <div class="card"><img src="hongbao.jpg" alt="üßß"></div>
            
            <div class="card" id="oracleCard">
                <img src="lantern.jpg" alt="üèÆ">
                <div style="font-size: 7px; color: var(--gold); margin-top: 5px; font-weight: 900;">HOLD TO BURN</div>
            </div>

            <div class="card" id="dragonCard">
                <img src="dragon.jpg" alt="üêâ" id="dragonImg" style="display:none;">
                <div class="locked-overlay" id="lock">üîí</div>
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let balance = 1.94;
        let timer;

        // –í–∫–ª—é—á–∞–µ–º –∑–≤—É–∫ –∏ –∫—Ä—É—Ç–∏–º –∫–æ–ª–µ—Å–æ
        document.getElementById('spinBtn').addEventListener('click', () => {
            const wheel = document.getElementById('wheel');
            const audio = document.getElementById('zenAudio');
            
            // –ó–≤—É–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
            if (audio.paused) { audio.volume = 0.3; audio.play().catch(()=>{}); }
            
            const deg = Math.floor(Math.random() * 360) + 1800;
            wheel.style.transform = `rotate(${deg}deg)`;
            
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('heavy');

            setTimeout(() => {
                balance += Math.random() * 8;
                document.getElementById('bal').innerText = balance.toFixed(2);
                tg.HapticFeedback.notificationOccurred('success');
                
                // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥—Ä–∞–∫–æ–Ω–∞
                if (balance > 15) {
                    document.getElementById('lock').style.display = "none";
                    document.getElementById('dragonImg').style.display = "block";
                }
            }, 4000);
        });

        // –†–∏—Ç—É–∞–ª –û—Ä–∞–∫—É–ª–∞ (–ó–∞–∂–∞—Ç–∏–µ)
        const oCard = document.getElementById('oracleCard');
        oCard.addEventListener('pointerdown', (e) => {
            e.preventDefault();
            oCard.classList.add('burning');
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
            
            timer = setTimeout(() => {
                tg.showPopup({
                    title: "Sacred Oracle",
                    message: "–ó–æ–ª–æ—Ç–æ–π –î—Ä–∞–∫–æ–Ω –±–ª–∞–≥–æ—Å–ª–æ–≤–ª—è–µ—Ç —Ç–≤–æ–π –ø—É—Ç—å. –£–¥–∞—á–∞ –±–ª–∏–∑–∫–æ.",
                    buttons: [{type: 'ok', color: '#ffd700'}]
                });
                oCard.classList.remove('burning');
            }, 2000);
        });

        oCard.addEventListener('pointerup', () => {
            clearTimeout(timer);
            oCard.classList.remove('burning');
        });

        // –ü–∞—Ä–∞–ª–ª–∞–∫—Å (–Ω–∞–∫–ª–æ–Ω)
        window.addEventListener('deviceorientation', (e) => {
            const y = e.gamma / 10; const x = e.beta / 10;
            document.getElementById('ui').style.transform = `translate(${y}px, ${x}px)`;
        });

        tg.ready();
    </script>
</body>
</html>
