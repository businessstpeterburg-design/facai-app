<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FA CAI WEALTH AI | IMPERIAL</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --tier-color: #cd7f32; --gold: #d4af37; --black: #050505; --red: #8b0000; }
        
        body {
            background: var(--black); color: #fff; font-family: 'Orbitron', sans-serif;
            margin: 0; padding: 0; overflow: hidden; min-height: 100vh;
            background: radial-gradient(circle at 50% 40%, #1a1508 0%, #050505 100%);
        }

        /* –í–∏–∑—É–∞–ª—å–Ω—ã–π —à—É–º (Grain Effect) */
        body::before {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://grainy-gradients.vercel.app/noise.svg');
            opacity: 0.04; pointer-events: none; z-index: 9999;
        }

        /* –ò–Ω—å-–Ø–Ω (–ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º) */
        .night-mode {
            filter: brightness(0.7) contrast(1.2);
            background: radial-gradient(circle at 50% 40%, #050505 0%, #000 100%) !important;
        }

        /* –ó–∞—Å—Ç–∞–≤–∫–∞ "–ü–µ—á–∞—Ç—å –ú–∞—Å—Ç–µ—Ä–∞" */
        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 10000; display: flex; flex-direction: column;
            align-items: center; justify-content: center; transition: 1.5s cubic-bezier(0.65, 0, 0.35, 1);
        }
        .seal-container {
            width: 120px; height: 120px; background: var(--red); border: 4px solid #5a0000;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 40px rgba(139, 0, 0, 0.6); border-radius: 12px;
            animation: seal-pulse 2s infinite ease-in-out;
        }
        @keyframes seal-pulse { 0%, 100% { transform: scale(1); opacity: 0.9; } 50% { transform: scale(1.05); opacity: 1; } }

        /* –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ Glassmorphism */
        #main-ui { transition: transform 0.1s ease-out; display: flex; flex-direction: column; align-items: center; width: 100%; height: 100vh; justify-content: center; }
        
        .artifact-card {
            width: 90px; padding: 15px 5px; border-radius: 20px;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(212, 175, 55, 0.2);
            box-shadow: inset 0 0 15px rgba(212, 175, 55, 0.05);
            text-align: center; transition: 0.4s; position: relative;
        }

        .gold-title { font-size: 22px; letter-spacing: 2px; background: linear-gradient(to bottom, #fff, var(--gold)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 900; margin: 0; }
        
        /* –ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã */
        .wheel-container { position: relative; width: 180px; height: 180px; margin: 25px 0; }
        .wheel { width: 100%; height: 100%; border-radius: 50%; border: 2px solid var(--tier-color); background: conic-gradient(from 0deg, #0a0a0a, #1a1a1a, #0a0a0a); transition: 4s cubic-bezier(0.15, 0, 0.15, 1); box-shadow: 0 0 30px rgba(212, 175, 55, 0.1); }
        .wheel-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 45px; height: 45px; background: var(--tier-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-weight: bold; font-size: 12px; box-shadow: 0 0 15px var(--tier-color); }

        /* –≠—Ñ—Ñ–µ–∫—Ç –∑–∞–∂–∂–µ–Ω–∏—è (Incense) */
        .incense-glow { animation: burn 1.5s infinite alternate !important; border-color: var(--gold) !important; }
        @keyframes burn { from { box-shadow: 0 0 5px var(--gold); } to { box-shadow: 0 0 30px var(--gold); transform: scale(1.02); } }

        .artifacts-grid { display: flex; gap: 12px; margin-top: 25px; }
        .lang-switch { position: fixed; top: 20px; right: 20px; background: none; border: 1px solid var(--tier-color); color: var(--tier-color); padding: 5px 12px; border-radius: 8px; z-index: 101; font-size: 10px; cursor: pointer; }
        
        button.spin-btn {
            background: var(--tier-color); color: #000; border: none; padding: 14px 45px; border-radius: 12px;
            font-family: 'Orbitron'; font-weight: 900; letter-spacing: 1px;
            box-shadow: 0 5px 20px rgba(212,175,55,0.3); transition: 0.3s;
        }
        button.spin-btn:active { transform: scale(0.95); }
    </style>
</head>
<body>

    <audio id="zenAudio" loop><source src="zen.mp3" type="audio/mpeg"></audio>

    <div id="loader">
        <div class="seal-container"><div style="font-family:'Noto Sans SC'; font-size:60px; color:var(--gold);">Ë≤°</div></div>
        <div style="color:var(--gold); font-size:10px; letter-spacing:6px; margin-top:30px; opacity:0.6;">QUANTUM ASCENSION</div>
    </div>

    <button class="lang-switch" onclick="toggleLang()" id="langBtn">CN</button>

    <div id="main-ui">
        <div class="header">
            <div id="tierName" style="font-size:9px; color:var(--tier-color); letter-spacing:4px; margin-bottom: 5px;">NOVICE TIER</div>
            <h1 class="gold-title">FA CAI SUPREME</h1>
            <div style="border:1px solid var(--tier-color); padding:6px 25px; border-radius:50px; display:inline-block; margin-top:15px; background: rgba(212,175,55,0.05);">
                <span id="balanceValue" style="font-size: 18px; font-weight: 700;">0.00</span> <span style="font-size:9px; opacity: 0.7;">QK</span>
            </div>
        </div>

        <div class="wheel-container">
            <div class="wheel" id="wheel"></div>
            <div class="wheel-center" id="tierSymbol">ÂàùÂßã</div>
        </div>

        <button class="spin-btn" onclick="spin()">SPIN FORTUNE</button>

        <div class="artifacts-grid">
            <div class="artifact-card"><img src="hongbao.jpg" style="width:60px; border-radius: 10px;"></div>
            <div class="artifact-card" id="oracleBtn" onpointerdown="startIncense()" onpointerup="stopIncense()" onpointerleave="stopIncense()">
                <img src="lantern.jpg" style="width:60px; border-radius: 10px;">
                <div style="font-size:7px; color:var(--gold); margin-top:8px; font-weight: bold;" id="oracleLabel">HOLD TO BURN</div>
            </div>
            <div class="artifact-card" id="dragonSlot" style="display: flex; align-items: center; justify-content: center; font-size: 20px;">üîí</div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.setHeaderColor('#050505');

        let balance = 0;
        let isCN = false;
        let incenseTimer;
        const oracles = [
            { en: "The Golden Dragon rises. Absolute prosperity.", cn: "ÈáëÈæôÊä¨Â§¥Ôºå‰∏á‰∫ãÂ§ßÂêâ„ÄÇ" },
            { en: "Wait for the pulse. The Universe has decided.", cn: "ÈùôÂæÖÊó∂Êú∫Ôºå‰πæÂù§ÂÆöÂ±Ä„ÄÇ" },
            { en: "Wealth flows like a river in quantum resonance.", cn: "Ë¥¢Ê∫êÊªöÊªöÔºåÈáèÂ≠êÂÖ±ÊåØ„ÄÇ" },
            { en: "Trust the spark. Your touch turns stone to gold.", cn: "ÂøÉÊúâÁÅµÁäÄÔºåÁÇπÁü≥ÊàêÈáë„ÄÇ" }
        ];

        // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¶–∏–∫–ª –ò–Ω—å-–Ø–Ω
        window.onload = () => {
            const hour = new Date().getHours();
            if (hour >= 22 || hour < 6) document.body.classList.add('night-mode');
            
            setTimeout(() => {
                document.getElementById('loader').style.opacity = '0';
                setTimeout(() => document.getElementById('loader').remove(), 1500);
            }, 2500);
        };

        // 2. –ü–∞—Ä–∞–ª–ª–∞–∫—Å (–ì–∏—Ä–æ—Å–∫–æ–ø)
        window.addEventListener('deviceorientation', (e) => {
            const x = e.beta / 6; const y = e.gamma / 6;
            document.getElementById('main-ui').style.transform = `translate(${y}px, ${x}px)`;
        });

        // 3. –ó–≤—É–∫ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ
        document.addEventListener('click', () => {
            const audio = document.getElementById('zenAudio');
            if (audio.paused) { audio.volume = 0.3; audio.play(); }
        }, { once: true });

        // 4. –õ–æ–≥–∏–∫–∞ –†–∏—Ç—É–∞–ª–∞ (Hold)
        function startIncense() {
            document.getElementById('oracleBtn').classList.add('incense-glow');
            incenseTimer = setTimeout(() => {
                triggerOracle();
                stopIncense();
            }, 2000);
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
        }

        function stopIncense() {
            clearTimeout(incenseTimer);
            document.getElementById('oracleBtn').classList.remove('incense-glow');
        }

        function triggerOracle() {
            const last = localStorage.getItem('lastO');
            if (last && Date.now() - last < 86400000) {
                tg.showAlert(isCN ? "ËÉΩÈáèÂ∞öÊú™ÊÅ¢Â§ç„ÄÇËØ∑Âú®ÊòéÊó•ÂÜçÊù•„ÄÇ" : "Quantum energy not restored. Return tomorrow.");
                return;
            }
            const o = oracles[Math.floor(Math.random() * oracles.length)];
            tg.showPopup({
                title: isCN ? "‰ªäÊó•Á•ûË∞ï" : "Daily Oracle",
                message: isCN ? o.cn : o.en,
                buttons: [{type: 'ok', color: '#d4af37'}]
            });
            localStorage.setItem('lastO', Date.now());
            if (tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
        }

        // 5. –ö–æ–ª–µ—Å–æ –∏ –£—Ä–æ–≤–Ω–∏
        function spin() {
            const wheel = document.getElementById('wheel');
            const deg = Math.floor(Math.random() * 360) + 1800;
            wheel.style.transform = `rotate(${deg}deg)`;
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('heavy');

            setTimeout(() => {
                const gain = (Math.random() * 4 + 1);
                balance += gain;
                updateUI();
            }, 4000);
        }

        function updateUI() {
            document.getElementById('balanceValue').innerText = balance.toFixed(2);
            const tierEl = document.getElementById('tierName');
            const symbolEl = document.getElementById('tierSymbol');
            
            if (balance >= 50) {
                tierEl.innerText = "IMMORTAL TIER";
                document.documentElement.style.setProperty('--tier-color', '#00ffff');
                symbolEl.innerText = "Ê∞∏Áîü";
            } else if (balance >= 15) {
                tierEl.innerText = "MASTER TIER";
                document.documentElement.style.setProperty('--tier-color', '#d4af37');
                symbolEl.innerText = "Â§ßÂ∏´";
                document.getElementById('dragonSlot').innerHTML = '<img src="dragon.jpg" style="width:60px; border-radius:10px; animation: pulse 2s infinite;">';
            }
        }

        // 6. –≠—Ñ—Ñ–µ–∫—Ç –ê—É—Ä–∞ (–¢–∞—á)
        document.addEventListener('touchstart', (e) => {
            const r = document.createElement('div');
            r.style.position = 'fixed'; r.style.left = e.touches[0].clientX + 'px'; r.style.top = e.touches[0].clientY + 'px';
            r.style.width = '2px'; r.style.height = '2px'; r.style.border = '1px solid var(--gold)';
            r.style.borderRadius = '50%'; r.style.pointerEvents = 'none'; r.style.zIndex = '999';
            r.animate([{transform:'translate(-50%,-50%) scale(0)', opacity:1}, {transform:'translate(-50%,-50%) scale(40)', opacity:0}], {duration:1000});
            document.body.appendChild(r);
            setTimeout(() => r.remove(), 1000);
        });

        function toggleLang() {
            isCN = !isCN;
            document.getElementById('langBtn').innerText = isCN ? 'EN' : 'CN';
            document.getElementById('oracleLabel').innerText = isCN ? "ÈïøÊåâÁÇπÁáÉ" : "HOLD TO BURN";
        }
    </script>
</body>
</html>
