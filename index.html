<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TON TEMPLE</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<style>
html,body{
margin:0;
padding:0;
background:#050505;
overflow:hidden;
font-family:Inter, sans-serif;
color:#FFD36A;
}

#ui{
position:absolute;
top:0;
left:0;
right:0;
bottom:0;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
pointer-events:none;
}

button{
pointer-events:auto;
background:linear-gradient(145deg,#B8860B,#FFD36A);
border:none;
padding:18px 40px;
border-radius:14px;
font-size:18px;
letter-spacing:.2em;
cursor:pointer;
color:#000;
font-weight:600;
}

#papyrus{
position:absolute;
width:80%;
max-width:700px;
height:60%;
background:linear-gradient(#d8c9a3,#bfa67a);
border-radius:12px;
display:none;
flex-direction:column;
justify-content:center;
align-items:center;
padding:40px;
color:#2b1b05;
box-shadow:0 0 40px rgba(255,211,106,0.4);
animation:drop .7s ease-out;
}

@keyframes drop{
0%{transform:translateY(-100px) scale(.9);opacity:0;}
100%{transform:translateY(0) scale(1);opacity:1;}
}

#seal{
position:absolute;
width:120px;
height:120px;
background:#B8001D;
border-radius:8px;
display:none;
justify-content:center;
align-items:center;
color:#FFD36A;
font-size:26px;
font-weight:bold;
animation:slam .4s ease-out;
}

@keyframes slam{
0%{transform:translateY(-200px) scale(.6);}
70%{transform:translateY(20px) scale(1.1);}
100%{transform:translateY(0) scale(1);}
}
</style>
</head>
<body>

<div id="ui">
<button id="spinBtn">SPIN WHEEL</button>
<div id="papyrus">
<div id="text"></div>
</div>
<div id="seal">Á¶è</div>
</div>

<script>
/* =======================
   THREE CORE
======================= */

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,1000);
camera.position.z = 8;

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));
renderer.toneMapping = THREE.ACESFilmicToneMapping;
renderer.outputEncoding = THREE.sRGBEncoding;
document.body.appendChild(renderer.domElement);

/* =======================
   LIGHT
======================= */

const ambient = new THREE.AmbientLight(0xFFD36A,.4);
scene.add(ambient);

const light = new THREE.PointLight(0xFFD36A,1.5,100);
light.position.set(0,5,5);
scene.add(light);

/* =======================
   PORTAL
======================= */

const portalGeo = new THREE.TorusGeometry(3,0.3,32,100);
const portalMat = new THREE.MeshStandardMaterial({
color:0xFFD36A,
emissive:0xB8860B,
metalness:.8,
roughness:.2
});
const portal = new THREE.Mesh(portalGeo,portalMat);
scene.add(portal);

/* =======================
   STARFIELD
======================= */

const starsGeo = new THREE.BufferGeometry();
const starCount = 2000;
const positions = [];
for(let i=0;i<starCount;i++){
positions.push((Math.random()-0.5)*100);
positions.push((Math.random()-0.5)*100);
positions.push((Math.random()-0.5)*100);
}
starsGeo.setAttribute("position",new THREE.Float32BufferAttribute(positions,3));
const starsMat = new THREE.PointsMaterial({color:0xFFD36A,size:.1});
const stars = new THREE.Points(starsGeo,starsMat);
scene.add(stars);

/* =======================
   WHEEL
======================= */

const wheelGeo = new THREE.CylinderGeometry(2.5,2.5,.5,40);
const wheelMat = new THREE.MeshStandardMaterial({
color:0xB8001D,
metalness:.7,
roughness:.3,
emissive:0x300000
});
const wheel = new THREE.Mesh(wheelGeo,wheelMat);
wheel.rotation.x = Math.PI/2;
scene.add(wheel);

/* =======================
   DRAGON AURA (sphere pulse)
======================= */

const dragonGeo = new THREE.SphereGeometry(1.2,32,32);
const dragonMat = new THREE.MeshStandardMaterial({
color:0xFFD36A,
emissive:0xFFD36A,
transparent:true,
opacity:.3
});
const dragon = new THREE.Mesh(dragonGeo,dragonMat);
dragon.position.set(0,0,-2);
scene.add(dragon);

/* =======================
   ANIMATION LOOP
======================= */

let spinVelocity = 0;
let spinning = false;

function animate(){
requestAnimationFrame(animate);

portal.rotation.z += 0.003;
stars.rotation.y += 0.0005;

dragon.scale.setScalar(1 + Math.sin(Date.now()*0.003)*0.1);

if(spinning){
wheel.rotation.z += spinVelocity;
spinVelocity *= 0.99;
if(spinVelocity < 0.002){
spinning = false;
showPapyrus();
}
}

renderer.render(scene,camera);
}
animate();

/* =======================
   SPIN LOGIC
======================= */

document.getElementById("spinBtn").onclick = ()=>{
spinVelocity = .4;
spinning = true;
};

/* =======================
   PAPYRUS + SEAL
======================= */

function showPapyrus(){
const p = document.getElementById("papyrus");
const t = document.getElementById("text");
p.style.display="flex";
t.innerText="";
let message = "Today the energy around you encourages calm decisions and steady movement. Avoid unnecessary conflicts. Stay grounded. Seek clarity before action. Opportunity appears through patience and awareness.";
let i=0;

let typer = setInterval(()=>{
t.innerText += message[i];
i++;
if(i>=message.length){
clearInterval(typer);
dropSeal();
}
},20);
}

function dropSeal(){
const seal = document.getElementById("seal");
seal.style.display="flex";
seal.style.top="50%";
seal.style.left="50%";
seal.style.transform="translate(-50%,-50%)";
}
</script>

</body>
</html>
