// --- ЗАГРУЗКА ДРАКОНА С ПРОВЕРКОЙ ---
const gltfLoader = new THREE.GLTFLoader();
gltfLoader.load('dragon.glb', (gltf) => {
    dragon = gltf.scene;
    
    // Настройка материала (Реалистичное матовое золото)
    dragon.traverse(n => {
        if(n.isMesh) {
            n.material = new THREE.MeshStandardMaterial({
                color: 0xffd700, 
                metalness: 1.0, 
                roughness: 0.35, // Убираем "пластиковый" блеск
                emissive: 0x110a00 // Еле заметное теплое свечение в тенях
            });
        }
    });

    // Центрируем модель
    const box = new THREE.Box3().setFromObject(dragon);
    const center = box.getCenter(new THREE.Vector3());
    dragon.position.x += (dragon.position.x - center.x);
    dragon.position.y += (dragon.position.y - center.y);
    dragon.position.z = 5; // ВЫНОСИМ ВПЕРЕД (ближе к камере, чтобы точно увидеть)

    // Масштаб (делаем его внушительным)
    dragon.scale.set(10, 10, 10); 
    
    scene.add(dragon);
    console.log("Дракон успешно добавлен в сцену!");
}, 
(xhr) => {
    console.log((xhr.loaded / xhr.total * 100) + '% загружено');
}, 
(err) => {
    console.error("ОШИБКА: Файл dragon.glb не найден или поврежден!", err);
});
